<div class="dashboard-container">
  
  <!-- Header com botão de refresh -->
  <div class="dashboard-header">
    <h1>Dashboard</h1>
  </div>
  
  <!-- Stats Cards com template integrado -->
  <mat-grid-list [cols]="statsCols" [rowHeight]="rowHeight" [gutterSize]="statsCols > 2 ? '16px' : '12px'" class="stats-grid">
    <mat-grid-tile *ngFor="let card of statCards">
      <mat-card class="enhanced-stat-card" [class]="'card-' + card.color" [class.loading]="loading">
        <!-- Card Header -->
        <div class="card-header">
          <div class="icon-container">
            <mat-icon class="card-icon">{{ card.icon }}</mat-icon>
          </div>
        </div>

        <!-- Card Content -->
        <mat-card-content class="card-content">
          <div class="main-value">
            <h2 class="value">{{ card.value }}</h2>
            <p class="title">{{ card.title }}</p>
          </div>
          
          <p class="subtitle" *ngIf="card.subtitle">{{ card.subtitle }}</p>
          
          <!-- Trend Information -->
          <div class="trend-info" *ngIf="card.trend">
            <span class="trend-label">
              {{ card.trend.label }}
              <mat-icon [class.positive]="card.trend.isPositive" [class.negative]="!card.trend.isPositive">
                {{ card.trend.isPositive ? 'arrow_upward' : 'arrow_downward' }}
              </mat-icon>
            </span>
          </div>
        </mat-card-content>

        <!-- Loading Overlay -->
        <div class="loading-overlay" *ngIf="loading">
          <mat-icon class="loading-spinner">refresh</mat-icon>
        </div>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>

  <div class="quick-actions">
    <h2>Ações Rápidas</h2>
    <div class="actions-grid-grid">
      <mat-card class="action-card" (click)="navegarPara('/pessoas/nova')">
          <mat-card-content>
            <div class="action-icon-container">
              <mat-icon class="action-icon">person_add</mat-icon>
            </div>
            <div class="action-text-container">
              <h3>Novo Cliente </h3>
              <p>Cadastrar novo cliente</p>
            </div>
          </mat-card-content>
        </mat-card>

      <mat-card class="action-card" (click)="navegarPara('/cobrancas/nova')">
          <mat-card-content>
            <div class="action-icon-container">
              <mat-icon class="action-icon">credit_card</mat-icon>
            </div>
            <div class="action-text-container">
              <h3>Nova Cobrança</h3>
              <p>Registrar cobrança</p>
            </div>
          </mat-card-content>
        </mat-card>

      <mat-card class="action-card" (click)="navegarPara('/pessoas')">
          <mat-card-content>
            <div class="action-icon-container">
              <mat-icon class="action-icon">people</mat-icon>
            </div>
            <div class="action-text-container">
              <h3>Ver Clientes</h3>
              <p>Listar todos os clientes</p>
            </div>
          </mat-card-content>
        </mat-card>

      <mat-card class="action-card" (click)="navegarPara('/cobrancas')">
          <mat-card-content>
            <div class="action-icon-container">
              <mat-icon class="action-icon">bar_chart</mat-icon>
            </div>
            <div class="action-text-container">
              <h3>Ver Cobranças</h3>
              <p>Listar todas as cobranças</p>
            </div>
          </mat-card-content>
        </mat-card>
    </div>
  </div>
</div>

